document.addEventListener("DOMContentLoaded",(()=>{"use strict";!function(){(function(){let e,t;return/iP(hone|od|ad)/.test(navigator.platform)?(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e={status:!0,version:parseInt(t[1],10),info:parseInt(t[1],10)+"."+parseInt(t[2],10)+"."+parseInt(t[3]||0,10)}):e={status:!1,version:!1,info:""},e})().version>14&&document.querySelectorAll("#page")[0].classList.add("min-ios15");let e={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},any:function(){return e.Android()||e.iOS()}};const t=document.getElementsByClassName("show-android"),o=document.getElementsByClassName("show-ios"),l=document.getElementsByClassName("show-no-device");if(!e.any()){for(let e=0;e<o.length;e++)o[e].classList.add("disabled");for(let e=0;e<t.length;e++)t[e].classList.add("disabled")}if(e.iOS()){document.querySelectorAll("#page")[0].classList.add("device-is-ios");for(let e=0;e<l.length;e++)l[e].classList.add("disabled");for(let e=0;e<t.length;e++)t[e].classList.add("disabled")}if(e.Android()){document.querySelectorAll("#page")[0].classList.add("device-is-android");for(let e=0;e<o.length;e++)o[e].classList.add("disabled");for(let e=0;e<l.length;e++)l[e].classList.add("disabled")}var a=document.getElementsByTagName("html")[0];if(!a.classList.contains("isPWA")){"serviceWorker"in navigator&&navigator.serviceWorker.register("/pwa_jjfitness_service-worker.js",{scope:"/"}).then((e=>console.log("Registro de SW exitoso",e))).catch((e=>console.warn("Error al tratar de registrar el sw",e)));var i=Date.now(),n=localStorage.getItem("Fitcloud-PWA-Timeout-Value");null==n?localStorage.setItem("Fitcloud-PWA-Timeout-Value",i):i-n>864e5&&(localStorage.removeItem("Fitcloud-PWA-Prompt"),localStorage.setItem("Fitcloud-PWA-Timeout-Value",i));document.querySelectorAll(".pwafc-dismiss").forEach((e=>e.addEventListener("click",(e=>{const t=document.querySelectorAll("#menufc-install-pwa-android, #menufc-install-pwa-ios");for(let e=0;e<t.length;e++)t[e].classList.remove("menufc-active");localStorage.setItem("Fitcloud-PWA-Timeout-Value",i),localStorage.setItem("Fitcloud-PWA-Prompt","install-rejected"),console.log("PWA Install Rejected. Will Show Again in 1 Days")}))));if(document.querySelectorAll("#menufc-install-pwa-android, #menufc-install-pwa-ios").length){if(e.Android()){if("install-rejected"!=localStorage.getItem("Fitcloud-PWA-Prompt")){var s;window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),s=e,setTimeout((function(){window.matchMedia("(display-mode: fullscreen)").matches||(console.log("Triggering PWA Window for Android"),document.getElementById("menufc-install-pwa-android").classList.add("menufc-active"))}),3500)}))}document.querySelectorAll(".pwafc-install").forEach((e=>e.addEventListener("click",(e=>{s.prompt(),s.userChoice.then((e=>{"accepted"===e.outcome?console.log("Added"):(localStorage.setItem("Fitcloud-PWA-Timeout-Value",i),localStorage.setItem("Fitcloud-PWA-Prompt","install-rejected"),setTimeout((function(){window.matchMedia("(display-mode: fullscreen)").matches||(document.getElementById("menufc-install-pwa-android").classList.remove("menufc-active"),document.querySelectorAll(".menufc-hider")[0].classList.remove("menufc-active"))}),50)),s=null}))})))),window.addEventListener("appinstalled",(e=>{document.getElementById("menufc-install-pwa-android").classList.remove("menufc-active"),document.querySelectorAll(".menufc-hider")[0].classList.remove("menufc-active")}))}if(e.iOS()){if(navigator.standalone)return!1;"install-rejected"!=localStorage.getItem("Fitcloud-PWA-Prompt")&&setTimeout((function(){window.matchMedia("(display-mode: fullscreen)").matches||(console.log("Triggering PWA Window for iOS"),document.getElementById("menufc-install-pwa-ios").classList.add("menufc-active"),document.querySelectorAll(".menufc-hider")[0].classList.add("menufc-active"))}),3500)}}}a.setAttribute("class","isPWA")}()}));