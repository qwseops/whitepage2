!function(e){var a=jQuery.fn.revolution,r=a.is_mobile();jQuery.extend(!0,a,{checkForParallax:function(e,t){var l=t.parallax;if(r&&"on"==l.disable_onmobile)return!1;("3D"==l.type||"3d"==l.type)&&(punchgs.TweenLite.set(t.c,{overflow:l.ddd_overflow}),punchgs.TweenLite.set(t.ul,{overflow:l.ddd_overflow}),"carousel"!=t.sliderType&&"on"==l.ddd_shadow&&(t.c.prepend('<div class="dddwrappershadow"></div>'),punchgs.TweenLite.set(t.c.find(".dddwrappershadow"),{force3D:"auto",transformPerspective:1600,transformOrigin:"50% 50%",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0}))),t.li.each((function(){var e=jQuery(this);if("3D"==l.type||"3d"==l.type){e.find(".slotholder").wrapAll('<div class="dddwrapper" style="width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden"></div>'),e.find(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layer" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:'+l.ddd_layer_overflow+';"></div>'),e.find(".rs-parallaxlevel-tobggroup").closest(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layertobggroup" style="position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%"></div>');var a=e.find(".dddwrapper"),r=e.find(".dddwrapper-layer");e.find(".dddwrapper-layertobggroup").appendTo(a),"carousel"==t.sliderType&&("on"==l.ddd_shadow&&a.addClass("dddwrappershadow"),punchgs.TweenLite.set(a,{borderRadius:t.carousel.border_radius})),punchgs.TweenLite.set(e,{overflow:"visible",transformStyle:"preserve-3d",perspective:1600}),punchgs.TweenLite.set(a,{force3D:"auto",transformOrigin:"50% 50%"}),punchgs.TweenLite.set(r,{force3D:"auto",transformOrigin:"50% 50%",zIndex:5}),punchgs.TweenLite.set(t.ul,{transformStyle:"preserve-3d",transformPerspective:1600})}}));for(var o=1;o<=l.levels.length;o++)t.c.find(".rs-parallaxlevel-"+o).each((function(){var e=jQuery(this).closest(".tp-parallax-wrap");e.data("parallaxlevel",l.levels[o-1]),e.addClass("tp-parallax-container")}));("mouse"==l.type||"scroll+mouse"==l.type||"mouse+scroll"==l.type||"3D"==l.type||"3d"==l.type)&&(e.mouseenter((function(a){var r=e.find(".active-revslide"),t=e.offset().top,l=e.offset().left,o=a.pageX-l,s=a.pageY-t;r.data("enterx",o),r.data("entery",s)})),e.on("mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath",(function(a,r){var o=r&&r.li?r.li:e.find(".active-revslide");if("enterpoint"==l.origo){var s=e.offset().top,i=e.offset().left;null==o.data("enterx")&&o.data("enterx",a.pageX-i),null==o.data("entery")&&o.data("entery",a.pageY-s);var n=o.data("enterx")||a.pageX-i,d=o.data("entery")||a.pageY-s,p=n-(a.pageX-i),c=d-(a.pageY-s),u=l.speed/1e3||.4}else s=e.offset().top,i=e.offset().left,p=t.conw/2-(a.pageX-i),c=t.conh/2-(a.pageY-s),u=l.speed/1e3||3;"mouseleave"==a.type&&(p=l.ddd_lasth||0,c=l.ddd_lastv||0,u=1.5);var h=[];if(o.find(".tp-parallax-container").each((function(e){h.push(jQuery(this))})),e.find(".tp-static-layers .tp-parallax-container").each((function(){h.push(jQuery(this))})),jQuery.each(h,(function(){var e=jQuery(this),a=parseInt(e.data("parallaxlevel"),0),r="3D"==l.type||"3d"==l.type?a/200:a/100,t=p*r,o=c*r;"scroll+mouse"==l.type||"mouse+scroll"==l.type?punchgs.TweenLite.to(e,u,{force3D:"auto",x:t,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,u,{force3D:"auto",x:t,y:o,ease:punchgs.Power3.easeOut,overwrite:"all"})})),"3D"==l.type||"3d"==l.type){var f=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer";"carousel"===t.sliderType&&(f=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer"),t.c.find(f).each((function(){var e=jQuery(this),r=l.levels[l.levels.length-1]/200,o=p*r,s=c*r,i=0==t.conw?0:Math.round(p/t.conw*r*100)||0,n=0==t.conh?0:Math.round(c/t.conh*r*100)||0,d=e.closest("li"),h=0,f=!1;e.hasClass("dddwrapper-layer")&&(h=l.ddd_z_correction||65,f=!0),e.hasClass("dddwrapper-layer")&&(o=0,s=0),d.hasClass("active-revslide")||"carousel"!=t.sliderType?"on"!=l.ddd_bgfreeze||f?punchgs.TweenLite.to(e,u,{rotationX:n,rotationY:-i,x:o,z:h,y:s,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==a.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})}))}})),r&&(window.ondeviceorientation=function(a){var r=Math.round(a.beta||0)-70,o=Math.round(a.gamma||0),s=e.find(".active-revslide");if(jQuery(window).width()>jQuery(window).height()){var i=o;o=r,r=i}var n=e.width(),d=e.height(),p=360/n*o,c=180/d*r,u=l.speed/1e3||3,h=[];if(s.find(".tp-parallax-container").each((function(e){h.push(jQuery(this))})),e.find(".tp-static-layers .tp-parallax-container").each((function(){h.push(jQuery(this))})),jQuery.each(h,(function(){var e=jQuery(this),a=parseInt(e.data("parallaxlevel"),0)/100,r=p*a*2,t=c*a*4;punchgs.TweenLite.to(e,u,{force3D:"auto",x:r,y:t,ease:punchgs.Power3.easeOut,overwrite:"all"})})),"3D"==l.type||"3d"==l.type){var f=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer";"carousel"===t.sliderType&&(f=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer"),t.c.find(f).each((function(){var e=jQuery(this),r=l.levels[l.levels.length-1]/200;offsh=p*r,offsv=c*r*3,offrv=0==t.conw?0:Math.round(p/t.conw*r*500)||0,offrh=0==t.conh?0:Math.round(c/t.conh*r*700)||0,li=e.closest("li"),zz=0,itslayer=!1,e.hasClass("dddwrapper-layer")&&(zz=l.ddd_z_correction||65,itslayer=!0),e.hasClass("dddwrapper-layer")&&(offsh=0,offsv=0),li.hasClass("active-revslide")||"carousel"!=t.sliderType?"on"!=l.ddd_bgfreeze||itslayer?punchgs.TweenLite.to(e,u,{rotationX:offrh,rotationY:-offrv,x:offsh,z:zz,y:offsv,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==a.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})}))}})),a.scrollTicker(t,e)},scrollTicker:function(e,t){1!=e.scrollTicker&&(e.scrollTicker=!0,r?(punchgs.TweenLite.ticker.fps(150),punchgs.TweenLite.ticker.addEventListener("tick",(function(){a.scrollHandling(e)}),t,!1,1)):jQuery(window).on("scroll mousewheel DOMMouseScroll",(function(){a.scrollHandling(e,!0)}))),a.scrollHandling(e,!0)},scrollHandling:function(e,t){e.lastwindowheight=e.lastwindowheight||jQuery(window).height();var l=e.c.offset().top,o=jQuery(window).scrollTop(),s=new Object,i=e.viewPort,n=e.parallax;if(e.lastscrolltop==o&&!e.duringslidechange&&!t)return!1;punchgs.TweenLite.delayedCall(.2,(function(e,a){e.lastscrolltop=a}),[e,o]),s.top=l-o,s.h=0==e.conh?e.c.height():e.conh,s.bottom=l-o+s.h;var d=s.top<0?s.top/s.h:s.bottom>e.lastwindowheight?(s.bottom-e.lastwindowheight)/s.h:0;if(e.scrollproc=d,a.callBackHandling&&a.callBackHandling(e,"parallax","start"),i.enable){var p=1-Math.abs(d);p=0>p?0:p,jQuery.isNumeric(i.visible_area)||-1!==i.visible_area.indexOf("%")&&(i.visible_area=parseInt(i.visible_area)/100),1-i.visible_area<=p?e.inviewport||(e.inviewport=!0,a.enterInViewPort(e)):e.inviewport&&(e.inviewport=!1,a.leaveViewPort(e))}if(r&&"on"==e.parallax.disable_onmobile)return!1;var c=new punchgs.TimelineLite;c.pause(),"3d"!=n.type&&"3D"!=n.type&&(("scroll"==n.type||"scroll+mouse"==n.type||"mouse+scroll"==n.type)&&e.c.find(".tp-parallax-container").each((function(a){var r=jQuery(this),t=parseInt(r.data("parallaxlevel"),0)/100,l=d*(-t*e.conh)||0;r.data("parallaxoffset",l),c.add(punchgs.TweenLite.set(r,{force3D:"auto",y:l}),0)})),e.c.find(".tp-revslider-slidesli .slotholder, .tp-revslider-slidesli .rs-background-video-layer").each((function(){var a=jQuery(this),r=a.data("bgparallax")||e.parallax.bgparallax;if(void 0!==(r="on"==r?1:r)||"off"!==r){var t=e.parallax.levels[parseInt(r,0)-1]/100,l=d*(-t*e.conh)||0;jQuery.isNumeric(l)&&c.add(punchgs.TweenLite.set(a,{position:"absolute",top:"0px",left:"0px",backfaceVisibility:"hidden",force3D:"true",y:l+"px"}),0)}}))),a.callBackHandling&&a.callBackHandling(e,"parallax","end"),c.play(0)}})}(jQuery);